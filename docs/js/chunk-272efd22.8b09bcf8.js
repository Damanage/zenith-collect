(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-272efd22"],{"0c41":function(t,e,a){},9341:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":"","pa-3":""}},[a("v-layout",{attrs:{"justify-center":"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("material-card",{attrs:{color:"green",title:t.project.full_name,text:"Редактирование карточки"}},[a("v-form",[a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:"","pa-0":""}},[a("v-flex",{attrs:{xs12:"",md10:""}},[a("v-text-field",{staticClass:"mx-1",attrs:{label:"Наименование проекта"},model:{value:t.project.full_name,callback:function(e){t.$set(t.project,"full_name",e)},expression:"project.full_name"}})],1)],1),a("v-flex",{attrs:{xs12:"",md6:"","pa-0":""}},[a("v-flex",{attrs:{xs12:"",md10:""}},[a("v-text-field",{staticClass:"mx-1",attrs:{value:t._f("fio")(t.project.responsible),readonly:"",label:"Ответственный","append-icon":"account_box"}})],1)],1),a("v-flex",{attrs:{xs12:"",md6:"","pa-0":""}},[a("v-flex",{attrs:{xs12:"",md10:""}},[a("v-text-field",{staticClass:"mx-1",attrs:{label:"Статус"},model:{value:t.project.status,callback:function(e){t.$set(t.project,"status",e)},expression:"project.status"}})],1)],1),a("v-flex",{attrs:{xs12:"",md6:"","pa-0":""}},[a("v-flex",{attrs:{xs12:"",md10:""}},[a("v-menu",{ref:"dp1",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.dp1,callback:function(e){t.dp1=e},expression:"dp1"}},[a("v-text-field",{staticClass:"mx-1",attrs:{slot:"activator",clearable:"",label:"Дата открытия","append-icon":"calendar_today"},slot:"activator",model:{value:t.project.date_open,callback:function(e){t.$set(t.project,"date_open",e)},expression:"project.date_open"}}),a("v-date-picker",{attrs:{"first-day-of-week":0,locale:"ru-RU","no-title":""},on:{input:t.setDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1),a("v-flex",{attrs:{xs12:"",md6:"","pa-0":""}},[a("v-flex",{attrs:{xs12:"",md10:""}},[a("v-menu",{ref:"dp1",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.dp2,callback:function(e){t.dp2=e},expression:"dp2"}},[a("v-text-field",{staticClass:"mx-1",attrs:{slot:"activator",clearable:"",label:"Дата закрытия","append-icon":"calendar_today"},slot:"activator",model:{value:t.project.date_close,callback:function(e){t.$set(t.project,"date_close",e)},expression:"project.date_close"}}),a("v-date-picker",{attrs:{"first-day-of-week":0,locale:"ru-RU","no-title":""},on:{input:t.setDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1),a("v-flex",{attrs:{xs12:"",md6:"","pa-0":""}},[a("v-flex",{attrs:{xs12:"",md10:""}},[a("v-text-field",{staticClass:"mx-1",attrs:{label:"Статус проблемности"},model:{value:t.project.problem_status,callback:function(e){t.$set(t.project,"problem_status",e)},expression:"project.problem_status"}})],1)],1),a("v-flex",{attrs:{xs12:"",md6:"","pa-0":""}},[a("v-flex",{attrs:{xs12:"",md10:""}},[a("v-text-field",{staticClass:"mx-1",attrs:{label:"Причина проблемности"},model:{value:t.project.problem_reason,callback:function(e){t.$set(t.project,"problem_reason",e)},expression:"project.problem_reason"}})],1)],1),a("v-flex",{attrs:{xs12:"",md6:"","pa-0":""}},[a("v-flex",{attrs:{xs12:"",md10:""}},[a("v-textarea",{staticClass:"mx-1",attrs:{rows:"1",label:"Комментарий"},model:{value:t.project.comment,callback:function(e){t.$set(t.project,"comment",e)},expression:"project.comment"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{md12:""}},[a("material-card",{staticClass:"card-tabs",attrs:{color:"green"}},[a("v-flex",{attrs:{slot:"header"},slot:"header"},[a("v-tabs",{attrs:{color:"transparent","slider-color":"white"},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab",{staticClass:"mr-3"},[a("v-icon",{staticClass:"mr-2"},[t._v("mdi-file-tree")]),t._v("\n                            Субъекты объекта\n                        ")],1),a("v-tab",{staticClass:"mr-3"},[a("v-icon",{staticClass:"mr-2"},[t._v("mdi-calendar-check")]),t._v("\n                            Задачи\n                        ")],1),a("v-tab",[a("v-icon",{staticClass:"mr-2"},[t._v("mdi-chart-areaspline")]),t._v("\n                            Стратегии\n                        ")],1),a("v-tab",{staticClass:"mr-3"},[a("v-icon",{staticClass:"mr-2"},[t._v("mdi-cash-multiple")]),t._v("\n                            Бюджет\n                        ")],1),a("v-tab",[a("v-icon",{staticClass:"mr-2"},[t._v("mdi-attachment")]),t._v("\n                            Вложения\n                        ")],1)],1)],1),a("v-tabs-items",{model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab-item",{key:1},[a("v-card",[a("v-card-title",[t._v("Физ. лица")]),a("v-card-text",{staticClass:"pt-0"},[a("v-data-table",{attrs:{"hide-actions":"",headers:t.fl_headers,items:t.project.fls,"no-data-text":"Ничего не найдено"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center pa-0"},[a("v-icon",{attrs:{color:"primary"},on:{click:function(t){}}},[t._v("mdi-pencil-circle-outline")])],1),a("td",[t._v(t._s(e.item.sur_name))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(t._f("date")(e.item.birth_date)))]),a("td",[t._v(t._s(e.item.place_of_collection))])]}}])})],1)],1),a("v-card",{staticClass:"mt-3"},[a("v-card-title",[t._v("Юр. лица")]),a("v-card-text",{staticClass:"pt-0"},[a("v-data-table",{attrs:{headers:t.ul_headers,items:t.project.uls,"no-data-text":"Ничего не найдено","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center pa-0"},[a("v-icon",{attrs:{color:"primary"},on:{click:function(a){t.editItem(e.item)}}},[t._v("mdi-pencil-circle-outline")])],1),a("td",[t._v(t._s(e.item.opf))]),a("td",[t._v(t._s(e.item.short_name))]),a("td",[t._v(t._s(e.item.full_name))]),a("td",[t._v(t._s(e.item.action_type))])]}}])})],1)],1)],1),a("v-tab-item",{key:2},[a("v-card",[a("v-card-title",[t._v("Задачи")]),a("v-card-text",{staticClass:"pt-0"},[a("v-data-table",{attrs:{"hide-actions":"",headers:t.task_headers,items:t.project.tasks,"no-data-text":"Ничего не найдено"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center pa-0"},[a("v-icon",{attrs:{color:"primary"},on:{click:function(t){}}},[t._v("mdi-pencil-circle-outline")])],1),a("td",[t._v(t._s(e.item.full_name))]),a("td",[t._v(t._s(t._f("date")(e.item.expire)))]),a("td",[t._v(t._s(e.item.status))])]}}])})],1)],1)],1),a("v-tab-item",{key:3},[a("v-card",[a("v-card-title",[t._v("Стратегии")]),a("v-card-text",{staticClass:"pt-0"},[a("v-data-table",{attrs:{"hide-actions":"",headers:t.task_headers,items:t.project.strategies,"no-data-text":"Ничего не найдено"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center pa-0"},[a("v-icon",{attrs:{color:"primary"},on:{click:function(t){}}},[t._v("mdi-pencil-circle-outline")])],1),a("td",[t._v(t._s(e.item.full_name))]),a("td",[t._v(t._s(e.item.st_type))]),a("td",[t._v(t._s(e.item.status))]),a("td",[t._v(t._s(t._f("fio")(e.item.reviewer)))]),a("td",[t._v(t._s(t._f("date")(e.item.date_start)))]),a("td",[t._v(t._s(t._f("date")(e.item.date_end)))]),a("td",[t._v(t._s(e.item.description))]),a("td",[t._v(t._s(t._f("fio")(e.item.author)))]),a("td",[t._v(t._s(t._f("date")(e.item.created)))])]}}])})],1)],1)],1),a("v-tab-item",{key:4},[a("v-card",[a("v-card-title",[t._v("Бюджет")]),a("v-card-text",{staticClass:"pt-0"},[a("v-data-table",{attrs:{"hide-actions":"",headers:t.budget_headers,items:t.project.budgets,"no-data-text":"Ничего не найдено"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center pa-0"},[a("v-icon",{attrs:{color:"primary"},on:{click:function(t){}}},[t._v("mdi-pencil-circle-outline")])],1),a("td",[t._v(t._s(e.item.budget_year))]),a("td",[t._v(t._s(e.item.budget_code))]),a("td",[t._v(t._s(e.item.budget_name))]),a("td",[t._v(t._s(e.item.budget_sum))]),a("td",[t._v(t._s(e.item.budget_exp))])]}}])})],1)],1)],1),a("v-tab-item",{key:5},[a("v-card",[a("v-card-title",[t._v("Вложения")]),a("v-card-text",{staticClass:"pt-0"},[a("v-data-table",{attrs:{"hide-actions":"",headers:t.attach_headers,items:t.project.attachments,"no-data-text":"Ничего не найдено"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center pa-0"},[a("v-icon",{attrs:{color:"primary"},on:{click:function(t){}}},[t._v("mdi-download")])],1),a("td",[t._v(t._s(e.item.full_name))]),a("td",[t._v(t._s(e.item.doc_type))]),a("td",[t._v(t._s(e.item.file_size))]),a("td",[t._v(t._s(e.item.file_type))]),a("td",[t._v(t._s(t._f("date")(e.item.created)))]),a("td",[t._v(t._s(t._f("fio")(e.item.author)))])]}}])})],1)],1)],1)],1)],1)],1)],1)],1)},l=[],r=a("cebc"),o=a("2f62"),i=a("c75e"),c={name:"EditProject",data:function(){return{dp1:!1,dp2:!1,date:"",tabs:0,fl_headers:[{text:"",value:"action",sortable:!1},{text:"Фамимлия",value:"sur_name",sortable:!1},{text:"Имя",value:"name",sortable:!1},{text:"Дата рождения",value:"birth_date",sortable:!1},{text:"Место работы",value:"place_of_collection",sortable:!1}],ul_headers:[{text:"",value:"action",sortable:!1},{text:"ОПФ",sortable:!1,value:"opf"},{text:"Наименование",value:"short_name",sortable:!1},{text:"Полное наименование",value:"full_name",sortable:!1},{text:"Вид деятельности",value:"action_type",sortable:!1}],task_headers:[{text:"",value:"action",sortable:!1},{text:"Название",sortable:!1,value:"full_name"},{text:"Срок",value:"status",sortable:!1},{text:"Статус",value:"expire",sortable:!1}],strat_headers:[{text:"",value:"action",sortable:!1},{text:"Наименование",sortable:!1,value:"full_name"},{text:"Тип",value:"st_type",sortable:!1},{text:"Статус",value:"status",sortable:!1},{text:"Согласовал",sortable:!1,value:"reviewer_id"},{text:"Начало",value:"date_start",sortable:!1},{text:"Окончание",value:"date_end",sortable:!1},{text:"Описание",value:"description",sortable:!1},{text:"Автор",sortable:!1,value:"author_id"},{text:"Дата создания",value:"created",sortable:!1}],budget_headers:[{text:"",value:"action",sortable:!1},{text:"Год",sortable:!1,value:"budget_year"},{text:"Код статьи",value:"budget_code",sortable:!1},{text:"Статья",value:"budget_name",sortable:!1},{text:"Бюджет статьи",sortable:!1,value:"budget_sum"},{text:"Фактические расходы",value:"budget_exp",sortable:!1}],attach_headers:[{text:"",value:"action",sortable:!1},{text:"Название",sortable:!1,value:"full_name"},{text:"Тип документа",value:"doc_type",sortable:!1},{text:"Размер",value:"file_size",sortable:!1},{text:"Тип файла",sortable:!1,value:"file_type"},{text:"Создано",value:"created",sortable:!1},{text:"Автор",value:"author",sortable:!1}]}},computed:Object(r["a"])({},Object(o["c"])({project:"getProject"}),{computedDateFormatted:function(){return this.date?this.$moment(this.date).format("DD.MM.YYYY"):""}}),methods:Object(r["a"])({},Object(o["b"])({saveProject:"saveProject",findProject:"findProject"}),{setDate:function(){this.dp1&&(this.project.date_open=this.computedDateFormatted),this.dp2&&(this.project.date_close=this.computedDateFormatted),this.dp1=!1,this.dp2=!1}}),created:function(){var t=this,e=this.$route.params.id;this.findProject(e),i["a"].$on(i["b"].EVENT_SAVE,function(){t.saveProject(t.project)})},beforeDestroy:function(){i["a"].$off(i["b"].EVENT_SAVE)}},d=c,n=(a("b4ab"),a("2877")),v=Object(n["a"])(d,s,l,!1,null,null,null);v.options.__file="EditProject.vue";e["default"]=v.exports},b4ab:function(t,e,a){"use strict";var s=a("0c41"),l=a.n(s);l.a}}]);
//# sourceMappingURL=chunk-272efd22.8b09bcf8.js.map